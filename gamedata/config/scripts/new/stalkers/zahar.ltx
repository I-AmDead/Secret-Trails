[smart_terrains]
none = true

[logic]
active = camper@zahar
on_death = death
on_hit = hit@zahar

[camper@zahar]
path_walk = zahar_walk
path_look = zahar_look
meet = meet@zahar
def_state_standing = sit
danger = danger_condition@zahar
on_info = {+grek_start_dialog_done} remark@zahar1

[remark@zahar1]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition@zahar
on_timer = 5000 | walker@zahar1

[walker@zahar1]
path_walk = zahar_walk1
path_look = zahar_look1
meet = no_meet
panic = 0
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger_condition@zahar
on_info = {+grek_ohota_dialog_done} remark@zahar3

[remark@zahar3]
target = actor
meet = no_meet
combat_ignore_cond = always
danger = danger_condition@zahar
on_timer = 4000 | walker@zahar3

[walker@zahar3]
path_walk = zahar_walk2
path_look = zahar_look2
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
meet = no_meet
panic = 0
danger = danger_condition@zahar
on_info = {+zahar_mesto} remark@zahar4
on_info = {+zahar_hit} walker@zahar_hit

[walker@zahar_hit]
path_walk = zahar_walk2
path_look = zahar_look2
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
meet = no_meet
panic = 0
danger = danger_condition@zahar
on_info = {+zahar_mesto} walker@zahar4

[walker@zahar4]
path_walk = zahar_walk2
path_look = zahar_look2
meet = meet@zahar
danger = danger_condition@zahar
on_info = {+zahar_perehod_dialog_done} remark@zahar5

[remark@zahar5]
anim = guard
target = actor
meet = meet@zahar
combat_ignore_cond = always
danger = danger_condition@zahar
on_timer = 2000 | walker@zahar5

[walker@zahar5]
path_walk = zahar_walk3
path_look = zahar_look3
meet = meet@zahar
danger = danger_condition@zahar
on_signal = finito | walker@zahar6

[walker@zahar6]
path_walk = zahar_walk3
path_look = zahar_look3
meet = meet@zahar
def_state_standing = sit
danger = danger_condition@zahar

[danger_condition@zahar]
ignore_distance = 5
ignore_distance_corpse = 0

[meet@zahar]
use = true
use_wpn = false
meet_talk_enabled = true

[death]
on_info = %+zahar_dead%

[hit@zahar]
on_info = %+zahar_hit%