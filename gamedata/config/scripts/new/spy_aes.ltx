[logic]
active                                   = camper@spy
combat_ignore                            = combat_ignore
on_death                                 = death
hit                                      = hit@spy

[hit@spy]
combat_ignore_cond                       = always

[camper@spy]
path_walk                                = spy_aes_walk
path_look                                = spy_aes_look
combat_ignore_cond                       = always
def_state_campering                      = prisoner
on_info                                  = {+haron_spy_spawn} remark@spy
meet                                     = no_meet

;danger = danger_condition@spy

[remark@spy]
anim                                     = prisoner
meet                                     = no_meet
anim_reset                               = false
no_move                                  = true
target                                   = spy_aes_look, 0
combat_ignore_cond                       = always

;danger = danger_condition@plen
on_info                                  = {+spy_talk} remark@spy_two

[remark@spy_two]
snd                                      = spy_aes
anim                                     = hands_up
target                                   = 9604
anim_reset                               = false
no_move                                  = true
meet                                     = no_meet
combat_ignore_cond                       = always

;danger = danger_condition@spy
on_signal                                = sound_end | %+spy_talk2%
on_info                                  = {+spy_hit} remark@spy_wounded

[remark@spy_wounded]
anim                                     = wounded_heavy
anim_reset                               = false
no_move                                  = true
meet                                     = no_meet
combat_ignore_cond                       = always
on_timer                                 = 5000 | remark@spy_wait1

[remark@spy_wait1]
anim                                     = wounded
anim_reset                               = false
target                                   = 9604
meet                                     = no_meet
combat_ignore_cond                       = always

;danger = danger_condition@plen
on_info                                  = {+spy_talk_end} remark@spy_wait2

[remark@spy_wait2]
anim                                     = sit_knee
target                                   = actor
meet                                     = meet@spy
combat_ignore_cond                       = always

;danger = danger_condition@plen
on_info                                  = {+haron_spy_begin} remark@spy_wait3

[remark@spy_wait3]
anim                                     = prisoner
target                                   = 9604
anim_reset                               = false
no_move                                  = true
meet                                     = no_meet
combat_ignore_cond                       = always

;danger = danger_condition@plen
on_info                                  = {+dopros_end} remark@spy_wait4

[remark@spy_wait4]
anim                                     = hands_up
target                                   = 9604
anim_reset                               = false
no_move                                  = true
meet                                     = no_meet
combat_ignore_cond                       = always

;danger = danger_condition@plen
on_info                                  = {+prizrak_help_begin} walker@spy

[walker@spy]
path_walk                                = spy_aes_walk
path_look                                = spy_aes_look
combat_ignore_cond                       = always

;danger = danger_condition@spy

[meet@spy]
use                                      = true
use_wpn                                  = true
meet_talk_enabled                        = true

[danger_condition@spy]

;ignore_distance = 0

[death]
on_info                                  = %+haron_spy_have%
