;------------------------------------------------------------------------------------------------
[wpn_pb_bas]:identity_immunities,base_wpn_zoom,wpn_pm_sounds,hud_wpn_fx.pm
GroupControlSection       = spawn_group
$npc      = on
$prefetch = 8
$spawn    = "weapons\pb"
scheduled = off
cform     = skeleton

class     = WP_PM
slot      = 1
animation_slot    = 1
ef_weapon_type    = 5
hand_dependence   = 1
single_handed     = 1

default_to_ruck   = false
sprint_allowed    = true

icons_texture        = ui\ui_icon_bas
inv_grid_width      = 2
inv_grid_height     = 1
inv_grid_x  = 62
inv_grid_y  = 6


inv_name  = st_wpn_pb_bas
inv_name_short    = st_wpn_pb_bas
description       = st_wpn_pb_bas_descr

kind      = w_pistol
inv_weight        = 1.15
cost      = 650
repair_type       = pistol

hud       = wpn_pb_bas_hud
visual                                   = dynamics\weapons\wpn_pb_bas\wpn_pb_bas_world.ogf
position  = -0.021, -0.07, 0.0
orientation       = 0, 0, 0
fire_point        = 0.0, 0.104, 0.273
ph_mass   = 1

;flame_particles   = weapons\generic_weapon03
;smoke_particles   = weapons\generic_shoot_00

smoke_particles		   	    = ghost_particles\weapons\flame_eft_sks          ;particles remade incomp.   

shell_point   = 0.0, 0.133, 0.047
shell_dir   = 0.0, 0.0, 0.4

light_color       = 0.6, 0.5, 0.3
light_range       = 3.0
light_time        = 0.2
light_var_color   = 0.05
light_var_range   = 0.5

upgrades  = up_gr_firstab_pb, up_gr_seconab_pb, up_gr_thirdab_pb, up_gr_fourtab_pb, up_gr_fifthab_pb
installed_upgrades        =
upgrade_scheme    = upgrade_scheme_pb
upgr_icon_x       = 1150
upgr_icon_y       = 200
upgr_icon_width   = 150
upgr_icon_height  = 100

fire_modes        = 1
ammo_class        = ammo_9x18_fmj, ammo_9x18_pmm
ammo_elapsed      = 8
ammo_mag_size     = 8

silencer_name     = wpn_sil_pmm
silencer_status   = 1
silencer_x        = 56
silencer_y        = -14
silencer_light_color      = 0.6, 0.5, 0.3
silencer_light_range      = 0.01
silencer_light_time       = 0.2
silencer_light_var_color  = 0.05
silencer_light_var_range  = 0.5
silencer_smoke_particles  = weapons\generic_shoot_00

hit_impulse       = 20
hit_power = 0.95, 0.95, 0.95, 0.95
hit_type  = fire_wound
fire_distance     = 300
bullet_speed      = 290
rpm       = 305
rpm_empty_click   = 120

use_aim_bullet    = true
time_to_aim       = 0.0 ;  1.0
zoom_dof  = -1000, 1.0, 1000
zoom_enabled      = true
zoom_rotate_time  = 0.25
reload_dof        = 0.0, 0.5, 5, 1.7
control_inertion_factor  = 1.0f
crosshair_inertion        = 2.8
fire_dispersion_base      = 0.59
fire_dispersion_condition_factor  = 0.001

misfire_probability       = 0.005
misfire_start_condition   = 0.7 ;  0.89
misfire_start_prob        = 0.007
misfire_end_condition     = 0.16
misfire_end_prob  = 0.11

condition_queue_shot_dec  = 0.0007
condition_shot_dec        = 0.0007

cam_return        = 0
cam_relax_speed   = 8
cam_dispersion    = 2.0
cam_dispersion_frac       = 1.1
cam_dispersion_inc        = 0.0
cam_max_angle     = 50.0
cam_max_angle_horz        = 50.0
cam_step_angle_horz       = 0.43
zoom_cam_dispersion       = 1.5

PDM_disp_accel_factor     = 1.055
PDM_disp_base     = 0.7
PDM_disp_crouch   = 1.0
PDM_disp_crouch_no_acc    = 1.0
PDM_disp_vel_factor       = 1.05

cam_relax_speed_ai        = 360
holder_fov_modifier       = 1.0
holder_range_modifier     = 1.0
min_radius        = 0
max_radius        = 500
hit_probability_gd_novice = 1.00
hit_probability_gd_stalker        = 1.00
hit_probability_gd_veteran        = 1.00
hit_probability_gd_master = 1.00

kill_msg_x        = 80
kill_msg_y        = 154
kill_msg_width    = 49
kill_msg_height   = 22
weapon_lower_speed  = 0.2

hud_fov      = 0.78 
;----------------------------------------------------------------------SND------------------------------------------------------------------------------
snd_draw = eft_wp\shared\draw_pistol
snd_holster = eft_wp\shared\hide_pistol
snd_shoot = eft_wp\pm\shoot_silenced, 2.0
snd_silncer_shot = eft_wp\pm\shoot_silenced, 2.0
snd_empty = eft_wp\shared\empty_click_pistol
snd_reload = eft_wp\pm\reload, 1.0
snd_reload_empty = eft_wp\pm\reload_empty, 1.0
snd_bore = eft_wp\sil
snd_shoot				= wpn_pm_snd_shoot
snd_shoot_actor				= wpn_pm_snd_shoot_actor
snd_silncer_shot		= wpn_9_1_snd_silenced
snd_silncer_shot_actor		= wpn_9_1_snd_silenced_actor
;----------------------------------------------------------------------HUD------------------------------------------------------------------------------
[wpn_pb_bas_hud]:hud_base

item_visual                              = dynamics\weapons\wpn_pb_bas\wpn_pb_bas_hud.ogf

attach_place_idx  = 0

zoom_hide_crosshair       = true   

;-------
item_position = 0,0,0
item_orientation	 = 0,0,0 

aim_hud_offset_pos_16x9  = -0.059400,0.034000,-0.013995
aim_hud_offset_rot_16x9  = 0.077177,0.079694,0.021062

hands_position_16x9  = -0.007600,-0.166500,-0.300000
hands_orientation_16x9	 = 4.469942,4.346008,3.605055
;-------

hands_position    = -0.031, -0.17, 0
hands_orientation = -0.5,1,1.15

safemode_anm	  = 
safemode_anm2	  = 

lowered_hud_offset_pos	  = 0,0.1,0
lowered_hud_offset_rot	  = 0.3,-0.1,0.1

lowered_hud_offset_pos  = 0,0,0
lowered_hud_offset_rot  = 0.3,-0.1,0.1

aim_hud_offset_pos        = -0.1011,0.04411,-0.2
aim_hud_offset_rot        = 0.001, 0.0125, -0.015


gl_hud_offset_pos = 0, 0, 0
gl_hud_offset_rot = 0, 0, 0

lean_hud_offset_pos       = 0, 0, 0
lean_hud_offset_rot       = 0, 0, 0

;Доставание///////////////////////////////////////////////////
anm_show                   = pm_new_eft_ins_draw
anm_show_empty             = pm_new_eft_ins_draw, idle_empty
anm_show_jammed            = pm_new_eft_ins_draw

;Убирание/////////////////////////////////////////////////////
anm_hide                   = pm_new_eft_ins_hide
anm_hide_empty             = pm_new_eft_ins_hide, idle_empty
anm_hide_jammed            = pm_new_eft_ins_hide

;Бездействие//////////////////////////////////////////////////
anm_idle                            = pm_new_eft_ins_idle
anm_idle_empty                      = pm_new_eft_ins_idle, idle_empty
anm_idle_jammed                     = pm_new_eft_ins_idle
anm_idle_slow                       = pm_new_eft_ins_idle
anm_idle_slow_empty                 = pm_new_eft_ins_idle, idle_empty
anm_idle_slow_jammed                = pm_new_eft_ins_idle
anm_idle_crouch                     = pm_new_eft_ins_idle
anm_idle_crouch_empty               = pm_new_eft_ins_idle, idle_empty
anm_idle_crouch_jammed              = pm_new_eft_ins_idle
anm_idle_crouch_slow                = pm_new_eft_ins_idle
anm_idle_crouch_slow_empty          = pm_new_eft_ins_idle, idle_empty
anm_idle_crouch_slow_jammed         = pm_new_eft_ins_idle


;Бездействие в прицеливании///////////////////////////////////
anm_idle_aim                   = pm_new_eft_ins_idle_aim
anm_idle_aim_empty             = pm_new_eft_ins_idle_aim, idle_empty
anm_idle_aim_jammed            = pm_new_eft_ins_idle_aim
anm_idle_aim_scope             = pm_new_eft_ins_idle_aim
anm_idle_aim_scope_empty       = pm_new_eft_ins_idle_aim, idle_empty
anm_idle_aim_scope_jammed      = pm_new_eft_ins_idle_aim

;Ходьба ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving 					= pm_new_eft_ins_idle_moving
anm_idle_moving_jammed 					= pm_new_eft_ins_idle_moving
anm_idle_moving_empty					= pm_new_eft_ins_idle_moving, idle_empty

;Ходьба медленная (SHIFT) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_slow 					= pm_new_eft_ins_idle_moving
anm_idle_moving_slow_jammed 				= pm_new_eft_ins_idle_moving
anm_idle_moving_slow_empty				= pm_new_eft_ins_idle_moving, idle_empty

;Ходьба в полуприсяди (CTRL) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch 					= pm_new_eft_ins_idle_moving
anm_idle_moving_crouch_jammed 				= pm_new_eft_ins_idle_moving
anm_idle_moving_crouch_empty				= pm_new_eft_ins_idle_moving, idle_empty

;Ходьба в присяде (CTRL+SHIFT) ВПЕРЕД/////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch_slow 				= pm_new_eft_ins_idle_moving
anm_idle_moving_crouch_slow_jammed 			= pm_new_eft_ins_idle_moving
anm_idle_moving_crouch_slow_empty			= pm_new_eft_ins_idle_moving, idle_empty

;Бег//////////////////////////////////////////////////////////////////
anm_idle_sprint                   = pm_new_eft_ins_idle_sprint, idle
anm_idle_sprint_empty             = pm_new_eft_ins_idle_sprint, idle_empty
anm_idle_sprint_jammed            = pm_new_eft_ins_idle_sprint, idle

;Скука////////////////////////////////////////////////////////////////////
anm_bore                   = pm_new_eft_ins_idle_aim, idle
anm_bore_empty             = pm_new_eft_ins_idle_aim, idle_empty
anm_bore_jammed            = pm_new_eft_ins_idle_aim, idle

;Выстрелы обычными патронами/////////////////////////////////////////////////////////////////////
anm_shots		       = pm_new_eft_ins_shoot, shoot
anm_shots_l		       = pm_new_eft_ins_shoot, shoot_last

;Перезарядка/////////////////////////////////////////////////////////////////////
anm_reload                           = pm_new_eft_ins_reload, reload
anm_reload_empty                     = pm_new_eft_ins_reload_empty, reload_empty

anm_idle_moving_speed_k                     = 1
anm_idle_moving_empty_speed_k               = 1
anm_idle_moving_jammed_speed_k              = 1
anm_idle_moving_slow_speed_k         	    = 0.8
anm_idle_moving_slow_empty_speed_k   	    = 0.8
anm_idle_moving_slow_jammed_speed_k  	    = 0.8
anm_idle_moving_crouch_speed_k       	    = 0.6
anm_idle_moving_crouch_empty_speed_k        = 0.6
anm_idle_moving_crouch_jammed_speed_k       = 0.6
anm_idle_moving_crouch_slow_speed_k         = 0.4
anm_idle_moving_crouch_slow_empty_speed_k   = 0.4
anm_idle_moving_crouch_slow_jammed_speed_k  = 0.4

shell_point  = 0.005, 0.025, -0.035
shell_bone   = wpn_body

fire_point	     = 0,0,0
fire_bone       	     = muzzle

;------------------------------------------------------------------------------------------------
[wpn_pb_bas_custom]:wpn_pb_bas
inv_grid_x        = 73
inv_name  = st_wpn_pb_bas_custom
inv_name_short    = st_wpn_pb_bas_custom

cost      = 8190

inv_grid_width      = 2
inv_grid_height     = 1
inv_grid_x  = 62
inv_grid_y  = 6


hud                                      = wpn_pb_bas_custom_hud
visual                                   = dynamics\weapons\wpn_pb_bas\wpn_pb_bas_custom_world.ogf

installed_upgrades        = up_fiftha_pb

rpm       = 325

fire_dispersion_base      = 0.56

misfire_start_condition   = 0.7 ;  0.85
misfire_start_prob        = 0.004
misfire_end_condition     = 0.12
misfire_end_prob  = 0.03

condition_queue_shot_dec  = 0.0007
condition_shot_dec        = 0.0007


[wpn_pb_bas_custom_hud]:wpn_pb_bas_hud
item_visual                              = dynamics\weapons\wpn_pb_bas\wpn_pb_bas_hud.ogf

[wpn_pb]:wpn_pb_bas
