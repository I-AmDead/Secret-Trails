;------------------------------------------------------------------------------------------------
[wpn_walther_p99]:identity_immunities,base_wpn_zoom,wpn_walther_sounds,hud_wpn_fx.beretta
GroupControlSection  = spawn_group
$npc = on
$prefetch    = 8
$spawn       = "weapons\walther"
scheduled    = off
cform        = skeleton

parent_section       = wpn_walther_p99

scope_names  = mod9

class        = WP_PM
slot = 1
animation_slot       = 1
ef_weapon_type       = 5
hand_dependence      = 1
single_handed        = 1

default_to_ruck      = false
sprint_allowed       = true

icons_texture        = ui\ui_icon_bas
inv_grid_width      = 2
inv_grid_height     = 1
inv_grid_x  = 64
inv_grid_y  = 3

inv_name     = st_wpn_walther_p99
inv_name_short       = st_wpn_walther_p99
description  = st_wpn_walther_p99_descr

kind = w_pistol
inv_weight   = 0.694
cost = 500
repair_type  = pistol

hud  = wpn_walther_p99_hud
visual       = dynamics\weapons\wpn_walther_p99\wpn_walther_p99_world.ogf
position     = -0.021, 0.0, -0.01
orientation  = 0, 0, 0
fire_point   = 0.0, 0.133, 0.161
fire_point2  = 0.0, 0.133, 0.161
ph_mass      = 1

flame_particles      = weapons\generic_weapon03
;smoke_particles      = weapons\generic_shoot_00
grenade_flame_particles      = weapons\generic_weapon01

smoke_particles		   	    = ghost_particles\weapons\flame_eft_sks          ;particles remade incomp.	

shell_point 	 = 0.0, 0.133, 0.047
shell_dir 	 = 0.0, 0.0, 0.4
shell_particles	 			= weapons\9x19

light_disabled       = false
light_color  = 0.6, 0.5, 0.3
light_range  = 3.0
light_time   = 0.2
light_var_color      = 0.05
light_var_range      = 0.5

upgrades     = up_gr_firstab_sig220, up_gr_seconab_sig220, up_gr_thirdab_sig220, up_gr_fourtab_sig220, up_gr_fifthab_sig220
installed_upgrades   =
upgrade_scheme       = upgrade_scheme_sig220
upgr_icon_x  = 1150
upgr_icon_y  = 1800
upgr_icon_width      = 150
upgr_icon_height     = 100

fire_modes   = 1
ammo_class   = ammo_9x19_fmj, ammo_9x19_pbp 
ammo_elapsed = 16
ammo_mag_size        = 16
startup_ammo = 90

scope_status = 0
      
silencer_name        = wpn_sil_gemtech
silencer_status      = 0
silencer_x   = 20
silencer_y   = 12
silencer_light_color = 0.6, 0.5, 0.3
silencer_light_range = 0.01
silencer_light_time  = 0.2
silencer_light_var_color     = 0.05
silencer_light_var_range     = 0.5
silencer_smoke_particles     = weapons\generic_shoot_00

launch_speed = 0

hit_impulse  = 24
hit_power    = 0.95, 0.95, 0.95, 0.95
hit_type     = fire_wound
fire_distance        = 400
bullet_speed = 355
rpm  = 260
rpm_empty_click      = 120

use_aim_bullet       = false
time_to_aim  = 0.0 ;  3.0
zoom_dof     = 0.5, 1.0, 180
zoom_enabled = true
zoom_rotate_time     = 0.25
reload_dof   = 0.0, 0.5, 5, 1.7
control_inertion_factor  = 1.0f
crosshair_inertion   = 2.8
fire_dispersion_base = 0.7
fire_dispersion_condition_factor  = 0.001

misfire_probability  = 0.005
misfire_start_condition      = 0.7 ;  0.86
misfire_start_prob   = 0.007
misfire_end_condition        = 0.09
misfire_end_prob     = 0.11

condition_queue_shot_dec     = 0.0004
condition_shot_dec   = 0.0004

cam_return   = 0
cam_relax_speed      = 8
cam_dispersion       = 2.0
cam_dispersion_frac  = 1.1
cam_dispersion_inc   = 0.0
cam_max_angle        = 50.0
cam_max_angle_horz   = 50.0
cam_step_angle_horz  = 0.5
zoom_cam_dispersion  = 1.5

PDM_disp_accel_factor        = 1.055
PDM_disp_base        = 0.62
PDM_disp_crouch      = 1.0
PDM_disp_crouch_no_acc       = 1.0
PDM_disp_vel_factor  = 1.05

cam_relax_speed_ai   = 360
holder_fov_modifier  = 1.0
holder_range_modifier        = 1.0
min_radius   = 0
max_radius   = 500
hit_probability_gd_novice    = 1.00
hit_probability_gd_stalker   = 1.00
hit_probability_gd_veteran   = 1.00
hit_probability_gd_master    = 1.00

kill_msg_x   = 168
kill_msg_y   = 178
kill_msg_width       = 27
kill_msg_height      = 23
weapon_lower_speed	 = 0.2

hud_fov      = 0.78


;-----------------------------------------------------------------------SND-----------------------------------------------------------------------------	
snd_draw = eft_wp\shared\draw_pistol
snd_holster = eft_wp\shared\hide_pistol
snd_shoot = eft_wp\p226r\shoot_1, 2.5
snd_shoot1 = eft_wp\p226r\shoot_3, 2.5
snd_silncer_shot = eft_wp\p226r\shoot_sil, 2.0
snd_empty = eft_wp\shared\empty_click_pistol
snd_reload = eft_wp\p226r\reload, 1.0
snd_reload_empty = eft_wp\p226r\reload_empty, 1.0

snd_reload = eft_wp\glock17\glock17_reload_speed, 1.5
snd_reload_empty = eft_wp\glock17\glock17_reload_empty_speed, 1.4

snd_shoot_grenade        = weapons\gen_grenshoot
snd_reload_grenade       = weapons\gen_grenload, 1.0, 0.8
snd_switch       = weapons\groza_switch, 1.0, 0.5
snd_bore = eft_wp\sil
snd_shoot				= wpn_beretta_snd_shoot
snd_shoot_actor				= wpn_beretta_snd_shoot_actor

snd_silncer_shot		= wpn_9_1_snd_silenced
snd_silncer_shot_actor		= wpn_9_1_snd_silenced_actor
;---------------------------------------------------------------------HUD-------------------------------------------------------------------------------
[wpn_walther_p99_hud]:hud_base

item_visual  = dynamics\weapons\wpn_walther_p99\wpn_walther_p99_hud.ogf

attach_place_idx     = 0
zoom_hide_crosshair  = true

;-----------
item_position = 0.001293,-0.005185,0.000646
item_orientation	 = 1.239378,-0.134046,-2.052052

hands_position_16x9  = -0.072300,-0.150900,-0.300000
hands_orientation_16x9	 = -0.918997,0.543006,0.150000

aim_hud_offset_pos_16x9  = -0.053999,0.040150,-0.061551
aim_hud_offset_rot_16x9  = 0.006650,0.008450,-0.029550
;------------ 
       
hands_position       = -0.031, -0.17, 0
hands_orientation    = -0.5, 1., 1.15

safemode_anm  = 
safemode_anm2 = 

lowered_hud_offset_pos	 = 0,0.1,0
lowered_hud_offset_rot	 = 0.3,-0.1,0.1

lowered_hud_offset_pos  = 0,0.05,0
lowered_hud_offset_rot  = 0.3,-0.1,0.1

aim_hud_offset_pos   = -0.0963, 0.059, -0.2
aim_hud_offset_rot   = 0.012, 0.0111, -0.0323

gl_hud_offset_pos    = 0, 0, 0
gl_hud_offset_rot    = 0, 0, 0

lean_hud_offset_pos  = 0, 0, 0
lean_hud_offset_rot  = 0, 0, 0

anm_show = glock_eft_ins_draw,       idle
anm_show_empty	 = glock_eft_ins_draw,       idle_empty
anm_hide     	 = glock_eft_ins_hide,       idle
anm_hide_empty      = glock_eft_ins_hide,       idle_empty
anm_idle     	 = glock_eft_ins_idle,       idle
anm_idle_empty      = glock_eft_ins_idle,       idle_empty
anm_shots  = glock_eft_ins_shoot,      shoot
anm_shot_l = glock_eft_ins_shoot_last, shoot_last
anm_idle_aim	 = glock_eft_ins_idle_aim,   idle
anm_idle_aim_empty = glock_eft_ins_idle_aim,   idle_empty

anm_reload = glock_eft_ins_reload,     reload
anm_reload_empty = glock_eft_ins_reload_empty,       reload_empty

;anm_reload = glock_eft_ins_reload_speed,       reload_speed_glock
;anm_reload_empty = glock_eft_ins_reload_empty_speed, reload_empty_speed_glock

anm_idle_moving  = glock_eft_ins_idle_moving,idle
anm_idle_moving_empty 	 = glock_eft_ins_idle_moving,idle_empty
anm_idle_moving_crouch	 = glock_eft_ins_idle_crouch,idle
anm_idle_moving_crouch_empty	 = glock_eft_ins_idle_crouch,idle_empty
anm_idle_sprint	 = glock_eft_ins_idle_sprint_v4,     idle
anm_idle_sprint_empty	 = glock_eft_ins_idle_sprint_v4,     idle_empty
anm_bore = glock_eft_ins_idle_aim,   idle
anm_bore_empty	 = glock_eft_ins_idle_aim,   idle_empty

anm_reload_speed_k					= 1.5
anm_reload_empty_speed_k				= 1.4
anm_idle_moving_speed_k 				= 0.7
anm_idle_moving_empty_speed_k 			        = 0.7

shell_bone   = gilza
shell_point = -0.03,-0.05,0.05

fire_bone    = muzzle
fire_point   = 0, 0, 0
 
;--------------------------------------------------------------------Addons--------------------------------------------------------------------------
[wpn_walther_p99_mod9]:can_spawner, wpn_walther_p99

inv_weight	     = 0.860

hud  = wpn_walther_p99_mod9_hud

parent_section       = wpn_walther_p99_mod9

inv_grid_width      = 2
inv_grid_height     = 1
inv_grid_x  = 64
inv_grid_y  = 4

visual     = dynamics\weapons\wpn_walther_p99\wpn_walther_p99_mod9_world.ogf

scope_status = 1

silencer_status      = 2

inv_name  = st_wpn_walther_p99_mod9
inv_name_short    = st_wpn_walther_p99_mod9
description       = st_wpn_walther_p99_mod9_descr

scope_dynamic_zoom       = off

use_alt_aim_hud    = true

scope_zoom_factor_alt      = 0

laser_status  = true

[wpn_walther_p99_mod9_hud]:can_spawner, wpn_walther_p99_hud

item_visual	 = dynamics\weapons\wpn_walther_p99\wpn_walther_p99_mod9_hud.ogf

anm_reload = glock_eft_ins_reload_speed,       reload_speed_glock
anm_reload_empty = glock_eft_ins_reload_empty_speed, reload_empty_speed_glock

aim_hud_offset_alt_pos_16x9  = -0.097900,-0.017200,-0.040500
aim_hud_offset_alt_rot_16x9  = 0.004650,0.012450,0.588150
;-------------------------------------------------------------------------------------------------------------------------------------------------------

[wpn_walther]:can_spawner, wpn_walther_p99

$spawn       = "weapons\uniq\wpn_walther_p99_m1"

[wpn_walther_p99_m1]:wpn_walther_p99