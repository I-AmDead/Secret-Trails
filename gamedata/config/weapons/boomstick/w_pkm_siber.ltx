;------------------------------------------------------------------------------------------------
[wpn_pkm_siber]:identity_immunities,base_wpn_zoom,wpn_pkm_sounds,hud_wpn_fx.pkm
        GroupControlSection         = spawn_group
        $npc                        = on
        $prefetch                   = 8
        $spawn                      = "weapons\pkm"
        scheduled                   = off
        cform                       = skeleton
        
        class                       = WP_PM
        slot                        = 2
        animation_slot              = 2
        ef_main_weapon_type         = 2
        ef_weapon_type              = 10
        hand_dependence             = 1
        single_handed               = 0
        
        default_to_ruck             = false
        sprint_allowed              = true
	    misfire_ammo_subtraction    = false
hide_shell_bone        = gilza
bullet_bones        = bullet_1,bullet_2,bullet_3,bullet_4,bullet_5,bullet_6,bullet_7,bullet_8,bullet_9,bullet_10,bullet_11,bullet_12
        
inv_grid_width     = 6
inv_grid_height    = 2
inv_grid_x         = 3
inv_grid_y         = 36

		icons_texture                                       = ui\ui_icon_bas
		
        inv_name                    = st_wpn_pkm_siber
        inv_name_short              = st_wpn_pkm_siber
        description                 = st_wpn_pkm_siber_descr
        
        kind                        = w_rifle
        inv_weight                  = 7.5
        cost                        = 45000
        repair_type                 = rifle_7
        weapon_class                = assault_rifle
        
        hud                         = wpn_pkm_siber_hud
        visual                      = dynamics\weapons\wpn_pkm_siber\wpn_pkm_siber_world.ogf
        position                    = -0.016, -0.005, -0.020
        orientation                 = 0, 0, 0
        fire_point                  = 0, 0.158, 0.845
        fire_point2                 = 0, 0.097, 0.722
        strap_bone0                 = bip01_spine2
        strap_bone1                 = bip01_spine1
        strap_position              = -0.26, -0.11, 0.25
        strap_orientation           = -15, -9, 110
        ph_mass                     = 4
        
        ;flame_particles             = weapons\generic_weapon05
        ;smoke_particles             = weapons\generic_shoot_00
        grenade_flame_particles     = weapons\generic_weapon01
        
		shell_point				    = -0.02,0.167,0.082
		shell_dir					= 0, 0, 0.4

        light_disabled              = false
        light_color                 = 0.6, 0.5, 0.3
        light_range                 = 5
        light_time                  = 0.2
        light_var_color             = 0.05
        light_var_range             = 0.5
        
        upgrades                    = up_gr_firstab_pkm, up_gr_seconab_pkm, up_gr_thirdab_pkm, up_gr_fourtab_pkm, up_gr_fifthab_pkm
        installed_upgrades          =
        upgrade_scheme              = upgrade_scheme_pkm
        upgr_icon_x                 = 1450
        upgr_icon_y                 = 700
        upgr_icon_width             = 300
        upgr_icon_height            = 100
        
        fire_modes                  = -1
        ammo_class                  = ammo_7.62x54_ap
        ammo_elapsed                = 100
        ammo_mag_size               = 100
        startup_ammo                = 90

	CartridgeInTheChamberEnabled = false
      
	misfire_and_reload	    = true
  
        silencer_status             = 0
        silencer_light_color        = 0.6, 0.5, 0.3
        silencer_light_range        = 0.01
        silencer_light_time         = 0.2
        silencer_light_var_color    = 0.05
        silencer_light_var_range    = 0.5
        ;silencer_smoke_particles    = weapons\generic_shoot_00
        
        launch_speed                = 0
        
        hit_impulse                 = 40
        hit_power                   = 1.3, 1.3, 1.3, 1.3
        hit_type                    = fire_wound
        fire_distance               = 1000
        bullet_speed                = 825
        rpm                         = 650
        rpm_empty_click             = 200
        
        use_aim_bullet              = false
        time_to_aim                 = 0.0
        zoom_dof                    = 0, 0, 0
        zoom_enabled                = true
        zoom_rotate_time            = 0.6
        reload_dof                  = 0, 0, 0, 0
control_inertion_factor = 1.0f
        crosshair_inertion          = 9.3
        fire_dispersion_base        = 0.34
        fire_dispersion_condition_factor = 0.001
        
        misfire_probability         = 0.005
        misfire_start_condition     = 0.7 ;  0.78
        misfire_start_prob          = 0.007
        misfire_end_condition       = 0.16
        misfire_end_prob            = 0.11
        
        condition_queue_shot_dec    = 0.0002
        condition_shot_dec          = 0.0002
        
        cam_return                  = 0
        cam_relax_speed             = 13
        cam_dispersion              = 0.762
        cam_dispersion_frac         = 1.10
        cam_dispersion_inc          = 0.0825
        cam_max_angle               = 50.0
        cam_max_angle_horz          = 50.0
        cam_step_angle_horz         = 2.1
        zoom_cam_relax_speed        = 10
        zoom_cam_dispersion         = 0.732
        zoom_cam_dispersion_frac    = 1.0
        zoom_cam_dispersion_inc     = 0.0725
        zoom_cam_max_angle          = 50.0
        zoom_cam_max_angle_horz     = 50.0
        zoom_cam_step_angle_horz    = 1.93
        
        PDM_disp_accel_factor       = 2.4
        PDM_disp_base               = 1.25
        PDM_disp_crouch             = 1.0
        PDM_disp_crouch_no_acc      = 1.0
        PDM_disp_vel_factor         = 2.4
        
        cam_relax_speed_ai          = 360
        zoom_cam_relax_speed_ai     = 360
        holder_fov_modifier         = 1.0
        holder_range_modifier       = 1.0
        min_radius                  = 0
        max_radius                  = 500
        hit_probability_gd_novice   = 1.00
        hit_probability_gd_stalker  = 1.00
        hit_probability_gd_veteran  = 1.00
        hit_probability_gd_master   = 1.00
        
        kill_msg_x                  = 80
        kill_msg_y                  = 59
        kill_msg_width              = 87
        kill_msg_height             = 24

		
hud_fov                                  = 0.78 
;-----------------------------------------------------------------Particles----------------------------------------------------------------------------
flame_particles                          = weapons\generic_weapon06
smoke_particles		   	                 = ghost_particles\weapons\flame_eft_sks  
silencer_smoke_particles   		         = ghost_particles\weapons\generic_smoke_eft_sil  
;-----------------------------------------------------------------------------------------------Sounds------------------------------------------------------------------------------------------------------
snd_bore                = weapons\pkm_prince\pkm_boring
snd_draw                = weapons\kiparis_blindside\kiparis_draw
snd_holster             = weapons\kiparis_blindside\kiparis_holster

snd_empty               = weapons\sr2m\sr2m_empty
snd_reload              = weapons\pkm_prince\pkm_reload
snd_reload_empty        = weapons\pkm_prince\pkm_reload_empty

snd_reload_jammed      = weapons\pkm_prince\pkm_unjam

snd_shoot               = weapons\pkm_prince\pkm_shotv3_1
snd_shoot1              = weapons\pkm_prince\pkm_shotv3_2
snd_shoot2              = weapons\pkm_prince\pkm_shotv3_3
snd_shoot3              = weapons\pkm_prince\pkm_shotv3_4
;snd_shoot4              = weapons\pkm_prince\pkm_shot_5

snd_silncer_shot        = weapons\pkm_prince\pkm_shot_sil_1
snd_silncer_shot1       = weapons\pkm_prince\pkm_shot_sil_2
snd_silncer_shot2       = weapons\pkm_prince\pkm_shot_sil_3
snd_silncer_shot3       = weapons\pkm_prince\pkm_shot_sil_4
snd_silncer_shot4       = weapons\pkm_prince\pkm_shot_sil_5

snd_switch			= weapons\generic\switch_mode
snd_shoot				= wpn_pkm_snd_shoot
snd_shoot_actor				= wpn_pkm_snd_shoot_actor
snd_silncer_shot		= wpn_762_warsaw_snd_silenced
snd_silncer_shot_actor		= wpn_762_warsaw_snd_silenced_actor
;------------------------------------------------------------------------------------------------HUD--------------------------------------------------------------------------------------------------------
[wpn_pkm_siber_hud]:hud_base

        item_visual                 = dynamics\weapons\wpn_pkm_siber\wpn_pkm_siber_hud.ogf
		
        attach_place_idx            = 0
        zoom_hide_crosshair         = true
		
;--------------------------------------------------------------        
        item_position               = 0, 0, 0
        item_orientation            = 0, 0, 0
		
aim_hud_offset_pos_16x9				= 0.008500,0.005880,0.045004
aim_hud_offset_rot_16x9				= 0.001760,0.000325,0.009321

hands_position_16x9				= -0.008400,-0.005340,0.025950
hands_orientation_16x9			= 0.000000,0.000000,0.000000
;-------------------------------------------------------------    

lowered_hud_offset_pos		= 0.1,0,0
lowered_hud_offset_rot		= 0.1,-0.8,0.1 	
    
        hands_position              = -0.064, -0.18, 0.14        
        hands_orientation           = 2, 2, 0
               
        aim_hud_offset_pos          = -0.09612, 0.0534, -0.25        
        aim_hud_offset_rot          = 0.039, 0.0349, 0.00095
                
        gl_hud_offset_pos           = 0, 0, 0
        gl_hud_offset_pos_16x9      = 0, 0, 0
        gl_hud_offset_rot           = 0, 0, 0
        gl_hud_offset_rot_16x9      = 0, 0, 0
        
        lean_hud_offset_pos         = 0, 0, 0
        lean_hud_offset_rot         = 0, 0, 0


;Доставание///////////////////////////////////////////////////
anm_show                   = wpn_hand_pkm_siber_in, wpn_pkm_siber_in
anm_show_empty             = wpn_hand_pkm_siber_in, wpn_pkm_siber_idle_empty
anm_show_jammed            = wpn_hand_pkm_siber_in, wpn_pkm_siber_in

;Убирание/////////////////////////////////////////////////////
anm_hide                   = wpn_hand_pkm_siber_out
anm_hide_empty             = wpn_hand_pkm_siber_out, wpn_pkm_siber_idle_empty
anm_hide_jammed            = wpn_hand_pkm_siber_out

;Бездействие//////////////////////////////////////////////////
anm_idle                            = wpn_hand_pkm_siber_idle
anm_idle_empty                      = wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty
anm_idle_jammed                     = wpn_hand_pkm_siber_idle
anm_idle_slow                       = wpn_hand_pkm_siber_idle
anm_idle_slow_empty                 = wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty
anm_idle_slow_jammed                = wpn_hand_pkm_siber_idle
anm_idle_crouch                     = wpn_hand_pkm_siber_idle
anm_idle_crouch_empty               = wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty
anm_idle_crouch_jammed              = wpn_hand_pkm_siber_idle
anm_idle_crouch_slow                = wpn_hand_pkm_siber_idle
anm_idle_crouch_slow_empty          = wpn_hand_pkm_siber_idle, wpn_pkm_siber_idle_empty
anm_idle_crouch_slow_jammed         = wpn_hand_pkm_siber_idle


;Бездействие в прицеливании///////////////////////////////////
anm_idle_aim                   = wpn_hand_pkm_siber_idle_aim
anm_idle_aim_empty             = wpn_hand_pkm_siber_idle_aim, wpn_pkm_siber_idle_empty
anm_idle_aim_jammed            = wpn_hand_pkm_siber_idle_aim
anm_idle_aim_scope             = wpn_hand_pkm_siber_idle_aim
anm_idle_aim_scope_empty       = wpn_hand_pkm_siber_idle_aim, wpn_pkm_siber_idle_empty
anm_idle_aim_scope_jammed      = wpn_hand_pkm_siber_idle_aim

anm_idle_aim_start             = wpn_hand_pkm_siber_in_aim, wpn_pkm_siber_in_aim
anm_idle_aim_start_empty       = wpn_hand_pkm_siber_in_aim, wpn_pkm_siber_idle_empty
anm_idle_aim_start_jammed      = wpn_hand_pkm_siber_in_aim, wpn_pkm_siber_in_aim

anm_idle_aim_end               = wpn_hand_pkm_siber_out_aim, wpn_pkm_siber_out_aim
anm_idle_aim_end_empty         = wpn_hand_pkm_siber_out_aim, wpn_pkm_siber_idle_empty
anm_idle_aim_end_jammed        = wpn_hand_pkm_siber_out_aim, wpn_pkm_siber_out_aim


;Ходьба ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving 					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_jammed 					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_empty					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty

;Ходьба медленная (SHIFT) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_slow 					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_slow_jammed 				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_slow_empty				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty

;Ходьба в полуприсяди (CTRL) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch 					= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_crouch_jammed 				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_crouch_empty				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty

;Ходьба в присяде (CTRL+SHIFT) ВПЕРЕД/////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch_slow 				= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_crouch_slow_jammed 			= wpn_hand_pkm_siber_walk, wpn_pkm_siber_walk
anm_idle_moving_crouch_slow_empty			= wpn_hand_pkm_siber_walk, wpn_pkm_siber_idle_empty

;Бег//////////////////////////////////////////////////////////////////
anm_idle_sprint                   = wpn_hand_pkm_siber_run, wpn_pk_siber_run
anm_idle_sprint_empty             = wpn_hand_pkm_siber_run, wpn_pk_siber_idle_empty
anm_idle_sprint_jammed            = wpn_hand_pkm_siber_run, wpn_pk_siber_run

;Скука////////////////////////////////////////////////////////////////////
anm_bore                   = wpn_hand_pkm_siber_boring, wpn_pkm_siber_boring
anm_bore_empty             = wpn_hand_pkm_siber_boring, wpn_pkm_siber_idle_empty
anm_bore_jammed            = wpn_hand_pkm_siber_boring, wpn_pkm_siber_boring

;Выстрелы обычными патронами/////////////////////////////////////////////////////////////////////
anm_shoot                   = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot
anm_shoot_jammed	    = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot
anm_shoot_last              = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot_empty

anm_shoot                   = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot
anm_shoot_jammed	    = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot
anm_shoot_last              = wpn_hand_pkm_siber_shoot, wpn_pkm_siber_shoot_empty

anm_shoot_aim               = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot
anm_shoot_aim_jammed	    = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot
anm_shoot_aim_last          = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot_empty

anm_shoot_aim_scope         = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot
anm_shoot_aim_scope_last    = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot_empty
anm_shoot_aim_scope_jammed  = wpn_hand_pkm_siber_shoot_aim, wpn_pkm_siber_shoot

;Перезарядка/////////////////////////////////////////////////////////////////////
anm_reload                           = wpn_hand_pkm_siber_reload, wpn_pkm_siber_reload
anm_reload_empty                     = wpn_hand_pkm_siber_reload_empty, wpn_pkm_siber_reload_empty
anm_reload_jammed           	     = wpn_hand_pkm_siber_misfire, wpn_pkm_siber_misfire
anm_reload_jammed_last      	     = wpn_hand_pkm_siber_reload_empty, wpn_pkm_siber_reload_empty


anm_idle_moving_speed_k                     = 1
anm_idle_moving_empty_speed_k               = 1
anm_idle_moving_jammed_speed_k              = 1
anm_idle_moving_slow_speed_k         	    = 0.8
anm_idle_moving_slow_empty_speed_k   	    = 0.8
anm_idle_moving_slow_jammed_speed_k  	    = 0.8
anm_idle_moving_crouch_speed_k       	    = 0.6
anm_idle_moving_crouch_empty_speed_k        = 0.6
anm_idle_moving_crouch_jammed_speed_k       = 0.6
anm_idle_moving_crouch_slow_speed_k         = 0.4
anm_idle_moving_crouch_slow_empty_speed_k   = 0.4
anm_idle_moving_crouch_slow_jammed_speed_k  = 0.4

       
        shell_bone                  = wpn_body
        shell_dir                   = 0, 0, 0
        shell_point                 = -0.021, 0.050, 0.050

        shells_3d_dir = 0,0,0 
        shells_3d_dir_disp = 0, 0, 0
        shells_3d_vel = -4, -1, 1
        shells_3d_vel_disp = -2, -1, 1
        
        fire_bone                   = muzzle
        fire_bone2                  = wpn_body
        fire_point                  = 0, 0, 0
        fire_point2                 = 0, 0, 0
	shoot_point                 = 0, 0, -0.7