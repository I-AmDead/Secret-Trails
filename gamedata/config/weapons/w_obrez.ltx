[wpn_obrez]:identity_immunities,class_sr
GroupControlSection    = spawn_group
discovery_dependency = 
$spawn                  = "weapons\m1891_30"        ; option for Level Editor
$npc                     = on                ; option for Level Editor
$prefetch                  = 8
scheduled               = off                  ; option for ALife Simulator
cform                   = skeleton
class                   =  WP_SHOTG  ;WP_LR300  ;
min_radius              = 0
max_radius              = 70

inv_name	        = "Обрез Фельдшера"
inv_name_short		= "Обрез Фельдшера"
description		= "Обрез знаменитой "Трёхлинейки" Мосина-Нагана образца 1891-1910 года. Фельдшер переделал его, заменив ствол и затворный механизм на более прочные из металлокерамики. Хотя это заметно увеличило вес. В виде боеприпасса используются специальные патроны начинённый смесью из пириксилина и измельчённого в порошок артефакта "Огненный Шар"."

ef_main_weapon_type         = 3
ef_weapon_type             = 8

;--- scope weapons -----------------------------------------------------------------
holder_range_modifier    = 2.15             
holder_fov_modifier    = 0.3              
;-----------------------------------------------------------------------------------

cost                    = 3000
weapon_class            = sniper_rifle
tri_state_reload        = on

ammo_limit                = 60
ammo_current            = 5
ammo_elapsed            = 0

ammo_mag_size            = 3
ammo_class                = ammo_new

sprint_allowed            = true
;-----------------------------------------------------------------------------------
;базовая дисперсия
fire_dispersion_base        = 0.033
control_inertion_factor        = 1.4f

;отдача
cam_relax_speed         = 6.5            ; скорость возврата в исходное положение
cam_dispersion             = 0.12            ; увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc        = 0.15            ; увеличениe cam_dispersion с каждым выстрелом
cam_dispertion_frac        = 0.1            ; ствол будет подыматься на cam_dispersion*cam_dispertion_frac +- cam_dispersion*(1-cam_dispertion_frac)
cam_max_angle            = 4.0            ; максимальный угол отдачи
cam_max_angle_horz        = 2.0            ; (degree) maximum shot horizontal degree 
cam_step_angle_horz        = 0.5            ; (degree) size of step camera moved in horizontal position while shooting

fire_dispersion_condition_factor= 4            ; увеличение дисперсии в процентах при максимальном износе 
misfire_probability         = 0.0001        ; вероятность осечки при максимальном износе 
misfire_condition_k        = 0.005
condition_shot_dec         = 0.0001         ; увеличение износа при каждом выстреле
;-----------------------------------------------------------------------------------

hand_dependence         = 1
single_handed            = 0

slot                 = 2        ; // secondary
animation_slot            = 2        ; type of the animation that will be used


inv_weight            = 3.2

icon_group      = 0

inv_grid_width     = 4
inv_grid_height    = 1
inv_grid_x         = 24
inv_grid_y         = 0

kill_msg_x            = 0
kill_msg_y            = 0
kill_msg_width        = 98
kill_msg_height        = 23

direction               = 0, 0, 1

fire_point              = -0.0, 0.143, 0.492

flame_particles            = weapons\generic_weapon05
smoke_particles               = weapons\generic_shoot_00
rpm_empty_click         = 200

shell_point                 = 0.0, 0.129, 0.192    
shell_dir                 = 0.0, 0.0, 0.4

PDM_disp_base             = 1.0
PDM_disp_vel_factor         = 0.9
PDM_disp_accel_factor         = 1.0
PDM_crouch             = 1.0
PDM_crouch_no_acc         = 1.0


hit_power                = 100.50, 100.54, 100.57, 100.60
hit_impulse              = 200
hit_type                 = fire_wound
hit_rate                 = 10.9
fire_distance            = 150
bullet_speed             = 500
rpm                      = 25


use_aim_bullet                = true        
time_to_aim                    = 1.0    

hud                     = wpn_obrez_hud
normal                  = 0, 1, 0
position                = -0.026, -0.077, 0.00
orientation             = 0, 0, 0

;--STRAP PARAMETERS-----------------------------------------------------------------
;ЃEЃEЃEшкьH
strap_position                 = -0.15,-0.15,0.45            ; position (offset) and orientation of the weapon when it is strapped
strap_orientation              = -25,-189,65                ; (3rd person view in degrees)
strap_bone0            = bip01_spine2
strap_bone1            = bip01_spine1

startup_ammo            = 10
visual                  = weapons\obrez\wpn_obrez.ogf

light_color             = 0.6,0.5,0.3
light_range             = 4.0
light_var_color             = 0.05
light_var_range             = 0.5
light_time              = 0.2

ph_mass                     = 3



scope_status                = 0
silencer_status                = 0
grenade_launcher_status        = 0

zoom_enabled            = true
scope_zoom_factor       = 1

scope_texture            = wpn\wpn_crosshair_m1891_3

;звуки
snd_draw                = weapons\obrez\w1300_draw
snd_holster                = weapons\obrez\rifle_holster
snd_shoot                = weapons\obrez\m1891_shot
snd_empty                = weapons\obrez\m1891_empty, 0.8
snd_reload                = weapons\obrez\m1891_reload2
snd_shoot_duplet        = weapons\obrez\toz34_shoot_both
snd_open_weapon            = weapons\obrez\m1891_open
snd_add_cartridge        = weapons\obrez\m1891_load
snd_close_weapon        = weapons\obrez\m1891_close
 
[wpn_obrez_hud]

shell_point                  = 0.0, 0.0, -10.0
shell_dir             = 0.0, 1.0, 0.0

fire_point            = -0.015,-0.06,-0.01
fire_bone               = wpn_body
orientation             = 0, -0.05, 0
position                = 0.0, 0.0, 0.0
visual                  = weapons\obrez\wpn_obrez_hud.ogf

anim_holster    = holster
anim_idle        = idle
anim_idle_aim    = idle_aim
anim_draw        = draw
anim_shoot        = shoot_b1
anim_reload    = reload   
anim_idle_sprint    = idle_sprint

anim_shoot_both             = shoot_b1

anim_open_weapon            = reload_1
anim_add_cartridge            = reload_2
anim_close_weapon            = reload_3


;смещение HUD для режима приближения
zoom_offset             = -0.1025,0.039404,-0.161
zoom_rotate_x        = -0.006
zoom_rotate_y        = 0

