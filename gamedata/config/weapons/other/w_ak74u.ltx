;------------------------------------------------------------------------------------------------
[wpn_ak74u]:identity_immunities,base_wpn_zoom,wpn_aks74u_sounds,hud_wpn_fx.ak74u
GroupControlSection       = spawn_group
$npc      = on
$prefetch = 8
$spawn    = "weapons\ak-74u"
scheduled = off
cform     = skeleton
parent_section    = wpn_ak74u

class     = WP_AK74
slot      = 2
animation_slot    = 8
ef_main_weapon_type       = 2
ef_weapon_type    = 6
hand_dependence   = 1
single_handed     = 0

default_to_ruck   = false
sprint_allowed    = true

hide_shell_bone = shell

icons_texture        = ui\ui_icon_bas
inv_grid_width      = 4
inv_grid_height     = 2
inv_grid_x  = 8
inv_grid_y  = 10

inv_name  = st_wpn_ak74u
inv_name_short    = st_wpn_ak74u
description       = st_wpn_ak74u_descr

kind      = w_rifle
inv_weight        = 2.48
cost      = 2000
repair_type       = rifle_5
weapon_class      = assault_rifle

hud       = wpn_ak74u_hud
visual    = dynamics\weapons\wpn_ak74u_n1\wpn_ak74u_n1_world.ogf

position  = -0.1, 0.1, -0.2
orientation       = 0, 0, 0
fire_point        = 0.0, -0.05, 0.656
fire_point2       = 0, 0.161, 0.583

strap_bone0       = bip01_spine2
strap_bone1       = bip01_spine1

strap_position    = -0.18, 0.0, 0.0
strap_orientation = -10, -5, 10

ph_mass   = 4

flame_particles   = weapons\generic_weapon05
;smoke_particles   = weapons\generic_shoot_00
grenade_flame_particles   = weapons\generic_weapon01

smoke_particles				             = ghost_particles\weapons\flame_eft_ak           ;particles remade incomp.
silencer_smoke_particles   		         = ghost_particles\weapons\generic_smoke_eft_sil  ;particles remade incomp.

shell_point  = 0,0.216,0.174
shell_dir  = 0,0,0.4
shell_bone	      = wpn_body

light_disabled    = false
light_color       = 0.6, 0.5, 0.3
light_range       = 5
light_time        = 0.2
light_var_color   = 0.05
light_var_range   = 0.5

upgrades  = up_gr_firstab_ak74u, up_gr_seconab_ak74u, up_gr_thirdab_ak74u, up_gr_fourtab_ak74u, up_gr_fifthab_ak74u
;installed_upgrades        =
upgrade_scheme    = upgrade_scheme_ak74u
upgr_icon_x       = 300
upgr_icon_y       = 300
upgr_icon_width   = 300
upgr_icon_height  = 100

fire_modes        = 1, -1
ammo_class        = ammo_5.45x39_fmj, ammo_5.45x39_ap
ammo_elapsed      = 30
ammo_mag_size     = 30
startup_ammo      = 90

scope_names    = kobra, 1p29, ps01
scope_status      = 2

scope_respawn                         = wpn_ak74u
scope_respawn_kobra                   = wpn_ak74u_kobra
scope_respawn_1p29                    = wpn_ak74u_1p29
scope_respawn_ps01                    = wpn_ak74u_ps01

scope_zoom_factor	    = 1.3

silencer_name     = wpn_sil_pbs4
silencer_status   = 2
silencer_x        = 175
silencer_y        = 10
silencer_light_color      = 0.6, 0.5, 0.3
silencer_light_range      = 0.01
silencer_light_time       = 0.2
silencer_light_var_color  = 0.05
silencer_light_var_range  = 0.5
;silencer_smoke_particles  = weapons\generic_shoot_00

launch_speed      = 0

hit_impulse       = 24
hit_power = 0.95, 0.95, 0.95, 0.95
hit_type  = fire_wound
fire_distance     = 900
bullet_speed      = 735
rpm       = 700
rpm_empty_click   = 200
ap_modifier       = 0.95

use_aim_bullet    = false
time_to_aim       = 0.0 ;  1.0
zoom_dof  = 0.5, 1.0, 180
zoom_enabled      = true
zoom_rotate_time  = 0.25
reload_dof        = 0.0, 0.5, 5, 2
control_inertion_factor  = 1.0f
crosshair_inertion        = 4.3
fire_dispersion_base      = 0.56
fire_dispersion_condition_factor  = 0.001

misfire_probability       = 0.005
misfire_start_condition   = 0.7 ;  0.78
misfire_start_prob        = 0.007
misfire_end_condition     = 0.1
misfire_end_prob  = 0.11

condition_queue_shot_dec  = 0.0002
condition_shot_dec        = 0.0002

cam_return        = 0
cam_relax_speed   = 12
cam_dispersion    = 0.646
cam_dispersion_frac       = 1.1
cam_dispersion_inc        = 0.0625
cam_max_angle     = 41.0
cam_max_angle_horz        = 41.0
cam_step_angle_horz       = 1.18
zoom_cam_relax_speed      = 12
zoom_cam_dispersion       = 0.616
zoom_cam_dispersion_frac  = 1.0
zoom_cam_dispersion_inc   = 0.0525
zoom_cam_max_angle        = 41.0
zoom_cam_max_angle_horz   = 41.0
zoom_cam_step_angle_horz  = 1.08

PDM_disp_accel_factor     = 1.655
PDM_disp_base     = 0.7
PDM_disp_crouch   = 1.0
PDM_disp_crouch_no_acc    = 1.0
PDM_disp_vel_factor       = 1.65

cam_relax_speed_ai        = 120.75
zoom_cam_relax_speed_ai   = 360
holder_fov_modifier       = 1.0
holder_range_modifier     = 1.0
min_radius        = 0
max_radius        = 500
hit_probability_gd_novice = 1.00
hit_probability_gd_stalker        = 1.00
hit_probability_gd_veteran        = 1.00
hit_probability_gd_master = 1.00

kill_msg_x        = 0
kill_msg_y        = 123
kill_msg_width    = 69
kill_msg_height   = 30

hud_fov      = 0.78

;----------------------------------------------------------------------Sounds----------------------------------------------------------------------------------------
snd_bore = $no_sound
snd_draw = weapons\ak105_sp\ak74_draw
snd_holster      = weapons\ak105_sp\hide

snd_empty        = weapons\ak105_sp\trigger_hammer

snd_reload		= weapons\aksu\aks74u_reload
snd_reload_empty        = weapons\aksu\aks74u_reload_full
snd_reload_jammed       = weapons\aksu\ak74_revival

snd_shoot               = weapons\ak545_new_young_prince\ak545_shot_1
snd_shoot1              = weapons\ak545_new_young_prince\ak545_shot_2
snd_shoot2              = weapons\ak545_new_young_prince\ak545_shot_3

snd_silncer_shot        = weapons\aksu_prince\aksu_shot_sil_1
snd_silncer_shot        = weapons\aksu_prince\aksu_shot_sil_1
snd_silncer_shot        = weapons\aksu_prince\aksu_shot_sil_1
snd_silncer_shot        = weapons\aksu_prince\aksu_shot_sil_1
snd_silncer_shot        = weapons\aksu_prince\aksu_shot_sil_1
snd_switch			= weapons\generic\switch_mode
snd_shoot               				                          = wpn_ak12_snd_shoot
snd_shoot_actor													  = wpn_ak12_snd_shoot_actor


snd_silncer_shot		                 = wpn_545_c_snd_silenced
snd_silncer_shot_actor                   = wpn_545_c_snd_silenced_actor

;-----------------------------------------------------------------------HUD-----------------------------------------------------------------------------
[wpn_ak74u_hud]:hud_base

item_visual                              = anomaly_weapons\wpn_ak74u\wpn_ak74u_hud.ogf
attach_place_idx                         = 0
zoom_hide_crosshair                      = true   

item_position                            = 0, 0, 0
item_orientation                         = 0, 0, 0

hands_position				             = -0.011600,-0.011900,-0.080201
hands_position_16x9			             = -0.011600,-0.011900,-0.080201
hands_orientation			             = 1.652664,2.197510,-0.140000
hands_orientation_16x9			         = 1.652664,2.197510,-0.140000

aim_hud_offset_pos			             = 0.027557,0.010160,0.030629
aim_hud_offset_pos_16x9			         = 0.027557,0.010160,0.030629
aim_hud_offset_rot			             = 0.042692,0.028254,-0.006000
aim_hud_offset_rot_16x9			         = 0.042692,0.028254,-0.006000

lowered_hud_offset_pos                   = 0.129572,0.020899,0.011400
lowered_hud_offset_rot                   = 0.265000,-0.939999,0.000000
lowered_hud_offset_pos_16x9              = 0.129572,0.020899,0.011400
lowered_hud_offset_rot_16x9              = 0.265000,-0.939999,0.000000

gl_hud_offset_pos                        = 0, 0, 0
gl_hud_offset_pos_16x9                   = 0, 0, 0
gl_hud_offset_rot                        = 0, 0, 0
gl_hud_offset_rot_16x9                   = 0, 0, 0

lean_hud_offset_pos                      = 0, 0, 0
lean_hud_offset_rot                      = 0, 0, 0

;Доставание///////////////////////////////////////////////////
anm_show                   = saigat_draw
anm_show_empty             = saigat_draw
anm_show_jammed            = saigat_draw, idle_jammed

;Убирание/////////////////////////////////////////////////////
anm_hide                   = saigat_hide
anm_hide_empty             = saigat_hide
anm_hide_jammed            = saigat_hide, idle_jammed

;Бездействие//////////////////////////////////////////////////
anm_idle                            = saigat_idle
anm_idle_empty                      = saigat_idle
anm_idle_jammed                     = saigat_idle, idle_jammed
anm_idle_slow                       = saigat_idle
anm_idle_slow_empty                 = saigat_idle
anm_idle_slow_jammed                = saigat_idle, idle_jammed
anm_idle_crouch                     = saigat_idle
anm_idle_crouch_empty               = saigat_idle
anm_idle_crouch_jammed              = saigat_idle, idle_jammed
anm_idle_crouch_slow                = saigat_idle
anm_idle_crouch_slow_empty          = saigat_idle
anm_idle_crouch_slow_jammed         = saigat_idle, idle_jammed


;Бездействие в прицеливании///////////////////////////////////
anm_idle_aim                   = saigat_aim
anm_idle_aim_empty             = saigat_aim
anm_idle_aim_jammed            = saigat_aim, idle_jammed
anm_idle_aim_scope             = saigat_aim
anm_idle_aim_scope_empty       = saigat_aim
anm_idle_aim_scope_jammed      = saigat_aim, idle_jammed

;Ходьба ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving 					= saigat_walk
anm_idle_moving_jammed 					= saigat_walk, idle_jammed
anm_idle_moving_empty					= saigat_walk

;Ходьба медленная (SHIFT) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_slow 					= saigat_walk
anm_idle_moving_slow_jammed 				= saigat_walk, idle_jammed
anm_idle_moving_slow_empty				= saigat_walk

;Ходьба в полуприсяди (CTRL) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch 					= saigat_walk
anm_idle_moving_crouch_jammed 				= saigat_walk, idle_jammed
anm_idle_moving_crouch_empty				= saigat_walk

;Ходьба в присяде (CTRL+SHIFT) ВПЕРЕД/////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch_slow 				= saigat_walk
anm_idle_moving_crouch_slow_jammed 			= saigat_walk, idle_jammed
anm_idle_moving_crouch_slow_empty			= saigat_walk

;Бег//////////////////////////////////////////////////////////////////
anm_idle_sprint                   = saigat_sprint
anm_idle_sprint_empty             = saigat_sprint
anm_idle_sprint_jammed            = saigat_sprint, idle_jammed

;Вход в спринт//////////////////////////////////////////////////////////////////
anm_idle_sprint_start      	= saigat_sprint_start
anm_idle_sprint_start_empty  	= saigat_sprint_start
anm_idle_sprint_start_jammed 	= saigat_sprint_start, idle_jammed

;Выход из спринта//////////////////////////////////////////////////////////////////
anm_idle_sprint_end        	= saigat_sprint_end
anm_idle_sprint_end_empty  	= saigat_sprint_end
anm_idle_sprint_end_jammed 	= saigat_sprint_end, idle_jammed

;Вход в прицеливание//////////////////////////////////////////////////////////////////
anm_idle_aim_start	   	  = saigat_aim_start
anm_idle_aim_start_empty   	  = saigat_aim_start
anm_idle_aim_start_jammed  	  = saigat_aim_start, idle_jammed

;Выход из прицеливания//////////////////////////////////////////////////////////////////
anm_idle_aim_end	   	  = saigat_aim_end
anm_idle_aim_end_empty     	  = saigat_aim_end
anm_idle_aim_end_jammed	   	  = saigat_aim_end, idle_jammed

;Выстрелы обычными патронами/////////////////////////////////////////////////////////////////////
anm_shoot		   	= aksutaco_shoot, aks74u_shoot
anm_shoot_sil		   	= aksutaco_shoot, aks74u_shoot
anm_shoot_last		   	= aksutaco_shoot, aks74u_shoot
anm_shoot_last_sil	   	= aksutaco_shoot, aks74u_shoot
anm_shoot_aim		   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_sil	   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_last	   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_last_sil	   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_scope	   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_scope_sil	   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_scope_last   	= aksutaco_aim_shoot, aks74u_aim_shoot
anm_shoot_aim_scope_last_sil 	= aksutaco_aim_shoot, aks74u_aim_shoot

;Перезарядка/////////////////////////////////////////////////////////////////////
anm_reload                           = saigat_reload, aks74u_reload
anm_reload_empty                     = saigat_reload_empty, aks74u_reload_full
anm_reload_jammed                    = saigat_misfire, aks74u_revival
anm_reload_jammed_last               = saigat_misfire, aks74u_revival

anm_idle_moving_slow_speed_k         	    = 0.7
anm_idle_moving_slow_empty_speed_k   	    = 0.7
anm_idle_moving_slow_jammed_speed_k  	    = 0.7
anm_idle_moving_crouch_speed_k         	    = 0.5
anm_idle_moving_crouch_empty_speed_k   	    = 0.5
anm_idle_moving_crouch_jammed_speed_k  	    = 0.5
anm_idle_moving_crouch_slow_speed_k         = 0.3
anm_idle_moving_crouch_slow_empty_speed_k   = 0.3
anm_idle_moving_crouch_slow_jammed_speed_k  = 0.3

fire_bone         = wpn_body
fire_bone2        = wpn_body
fire_point        = 0.0, 0.0, 0.5
fire_point2       = 0.0, 0.0, 0.5
fire_direction    = 0.0, 0.0, 1

shoot_point       = 0, 0.048, 0

shell_point 	  = 0.011500,0.005500,0.093000
shell_dir         = 0,1,0
shell_bone 	  = wpn_body

freelook_z_offset_mul	  = 0.6

;-----------------------------------------------------------------------Addons--------------------------------------------------------------------------
[wpn_ak74u_1p29]:wpn_ak74u
scope_name       		 = 1p29
scope_x     			 = 56
scope_y     			 = 2

hud       			 = wpn_ak74u_1p29_hud
visual    			 = dynamics\weapons\wpn_ak74u\wpn_ak74u_1p29.ogf

[wpn_ak74u_1p29_hud]:wpn_ak74u_hud

item_visual                      = anomaly_weapons\wpn_ak74u\wpn_ak74u_1p29_hud.ogf


[wpn_ak74u_kobra]:wpn_ak74u
scope_name       		 = kobra
scope_x     			 = 67
scope_y     			 = 2

hud       			 = wpn_ak74u_kobra_hud

visual    			 = dynamics\weapons\wpn_ak74u\wpn_ak74u_kobra.ogf

[wpn_ak74u_kobra_hud]:wpn_ak74u_hud
item_visual                	 = anomaly_weapons\wpn_ak74u\wpn_ak74u_kobra_hud.ogf

aim_hud_offset_pos               = 0.030498,-0.019837,0.028558
aim_hud_offset_pos_16x9          = 0.030498,-0.019837,0.028558
aim_hud_offset_rot               = 0.038860,0.027640,0.005981
aim_hud_offset_rot_16x9          = 0.038860,0.027640,0.005981


[wpn_ak74u_ps01]:wpn_ak74u
scope_name			 = ps01
scope_x				 = 56
scope_y				 = 2